心态与实际状态严重失调，做题策略没大问题，但想题策略有较大的毛病。

## T2
看题的第一眼时觉得应该很简单。

实际上也确实不难。

但一开始想的是枚举短边，然后尽可能平分另一边。  
立刻想到dsu on tree，但用类比的思维去做子树外的情况时发现不行，就立刻否定了这个做法。

然后觉得应该是简单DP，就想到全局$n/3$可能有用，但只会证明两种情况的正确性，还有一种情况的正确性不会证。  
回想起昨天CF Div2的惨痛教训，就放弃了这种写法。

这时已经过了10点了，因为我预设这题是一道简单题，所以我开始慌了。  
这时我觉得下一道题应该可做，于是稍微想了想下一题，但觉得T2我的想法应该已经比较接近正解了，就放弃了T3。

然后出去上了个厕所，回来仔细思考，决定不写没证明过的结论，想回第一个做法。  
这时我发现祖先关系的只用在割祖先边时考虑，然后就类比想到两颗子树之间也可以建立某种顺序，在做后面的子树时只用考虑前面的子树。（虽然我也不知道为什么会想到这个类比，感觉这个做法和dsu on tree完全没有相似之处，但我就是能通过一个类比出另一个）

这时时间已经不多了，我飞快地写完了代码，然后思考下一题。
## T3
考场想的是用$f_{x,0/1}$表示从x延伸出去一条链，当前点不亮或亮着的答案，$g_x$表示x点亮子树内所有的灯，并且回到x的答案。  
因为想的是选取$f-g$最小的y作为最后延伸出去的链，并且要计算当前点的亮度，而且计算答案使还要换根DP，十分麻烦，就没有写。

考后听取了Cotton的做法，题解如下：

设$f_{x,0/1/2,0/1}$表示在路径经过x，确定了0或1或2个起始点，x点不亮或亮着。  
设y为枚举到的儿子，此时$f_x$已经是x点和前面枚举过的子树的答案，则转移如下：  
$
\begin{aligned}
f_{x,0,0}&=\min(f_{x,0,1}+f_{y,0,1}+1,f_{x,0,0}+f_{y,0,0}+3)\\
f_{x,0,1}&=\min(f_{x,0,0}+f_{y,0,1}+1,f_{x,0,1}+f_{y,0,0}+3)\\
f_{x,1,0}&=\min(f_{x,1,1}+f_{y,0,1}+1,f_{x,1,0}+f_{y,0,0}+3,f_{x,0,0}+f_{y,1,1},f_{x,0,1}+f_{y,1,0}+2)\\
f_{x,1,1}&=\min(f_{x,1,0}+f_{y,0,1}+1,f_{x,1,1}+f_{y,0,0}+3,f_{x,0,1}+f_{y,1,1},f_{x,0,0}+f_{y,1,0}+2)\\
f_{x,2,0}&=\min(f_{x,2,1}+f_{y,0,1}+1,f_{x,2,0}+f_{y,0,0}+3,f_{x,1,0}+f_{y,1,1},f_{x,1,1}+f_{y,1,0}+2,f_{x,0,0}+f_{y,2,0}+1,f_{x,0,1}+f_{y,2,1}+3)\\
f_{x,2,1}&=\min(f_{x,2,0}+f_{y,0,1}+1,f_{x,2,1}+f_{y,0,0}+3,f_{x,1,1}+f_{y,1,1},f_{x,1,0}+f_{y,1,0}+2,f_{x,0,1}+f_{y,2,0}+1,f_{x,0,0}+f_{y,2,1}+3)
\end{aligned}
$

这个做法记录了起始点都在子树内的情况，避免了换根DP，而且转移时是考虑子树是否含起始点，将起始点加入已有或没有的起始点中，而不用最后再选择起始点。（也就是说原来要选择一个f，其余为g，现在可以从f转移到f，g转移到g，对于选择的f，就从g转移至f，表示已经选了一个f）