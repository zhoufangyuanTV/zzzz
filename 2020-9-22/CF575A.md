昨天偷懒，没有写总结，在这里强烈谴责。

这题一开始以为是通项公式+二次剩余，想了想才发现不少情况下是没有二次剩余的。

后来发现只用求一次，暴力矩阵快速幂即可。由于两个修改可能在同一个$N$里，所以需要用分块或其他数据结构来优化。

本题复杂之处在于一个$s_i$的修改会影响两个转移矩阵，但其实可以把$f_i$视为$f_i\cdot s_i$，这样只用修改一个矩阵即可。