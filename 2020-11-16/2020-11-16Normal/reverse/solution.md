比赛时，我没有注意到第18~25个点满足$k=n+1$。  
然后我以为这题只是状态压缩DP和推公式的缝合怪。  
没想到竟然是状压DP+奇妙DP+找规律三分代码的强行拼接。

由于在做CSP-S2020T4时我因为沉迷于找规律而没想到正解，在做这次比赛时我就没有去找规律，而是去研究这题有什么性质，最后推出来了一个公式。  
好像题解都没有发现这个公式，看来题目可以加强了。
## Data7~25
首先观察到无论怎么操作，任意两个1中间至少有一个0。

考虑把字符串进行变换——将每段在两个1中间的连续0都删去一个0。

例如：100101001->101101

那么初始字符串经过变换后就是长为$n+1$的1串。

思考翻转交替序列会对变换后的字符串有什么影响，发现一次操作就是在一段连续的1两边各加上一个0，并将中间连续的1删去一个。

那么经过k次操作，串长就会变成$n+k+1$，其中有$2k$个是0，那么总计可以生成$\binom{n+k+1}{2k}$个不同的串。

接着计算一个串可以由多少个不同的操作序列生成。

将同一次操作加上的0配对，显然配对不可能交叉，那么可以用左右括号来表示一个配对。

对于嵌套的括号，例如：1((1)()1)1（即1001000101这个串的一种括号配对）

显然是先有外面的括号，再有里面的括号。我们在这里把操作顺序反过来（即先有里面的括号，再有外面的括号），并且把1去掉，显然答案并不会改变。

这时我们考虑对于一个有$2k$个0的串，其中一共有$2k$个空位可以用来放k对括号。

对于第一对括号，一共有$2k-1$个位置可以给它选择。

对于下一对括号，假如第一对括号放在$(i,i+1)$这个位置对上，那么$(i-1,i),(i,i+1),(i+1,i+2)$都不能再放括号，但是可以在$(i-1,i+2)$上放括号。也就是说，第一对括号把$i,i+1$两个位置从串中间去掉了，使$i-1,i+2$变成了相邻的位置。

相当于每对括号都使串长$-2$，且对于一对括号，如果当时串长为m，则有$m-1$个位置供其选择。

那么对于一个串，一共有$\prod_{i=1}^k(2i-1)$种合法的操作序列。

综上所述，$Ans=\binom{n+k+1}{2k}\cdot\prod_{i=1}^k(2i-1)$。